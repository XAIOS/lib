var _slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h['return']&&h['return']()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),_typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};Array.prototype.map||Object.defineProperty(Array.prototype,'map',{value:function c(a){var b=[];return this.forEach(function(c,d){b.push(a(c,d))}),b}}),Array.prototype.filter||Object.defineProperty(Array.prototype,'filter',{value:function c(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(c)}),b}}),Array.prototype.includes||Object.defineProperty(Array.prototype,'includes',{value:function b(a){return-1!=this.indexOf(a)}}),String.prototype.includes||Object.defineProperty(String.prototype,'includes',{value:function b(a){return-1!=this.indexOf(a)}});var $id=function(a){return document.getElementById(a)};function SliceArray(a,b){var c=[],d=[];return a.forEach(function(e,f){d.push(e),(f&&0==(f+1)%b||f==a.length-1)&&(c.push(d),d=[])}),c}function FormatNum(a){return 9<a?a:'0'+a}function FormatTime(a,b){return a=new Date(a),b.replace('y',a.getFullYear()).replace('M',FormatNum(a.getMonth()+1)).replace('d',FormatNum(a.getDate())).replace('h',FormatNum(a.getHours())).replace('m',FormatNum(a.getMinutes())).replace('s',FormatNum(a.getSeconds()))}function Toast(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1500,c=document.createElement('div');c.className='cp-toast',c.innerHTML='object'==('undefined'==typeof a?'undefined':_typeof(a))?a.join('<br>'):a,document.body.appendChild(c),setTimeout(function(){c.style.opacity=0,setTimeout(function(){return document.body.removeChild(c)},600)},b)}(function(){function a(a,b){var c=Math.ceil,d=_slicedToArray(a.size,2),f=d[0],g=d[1],i=f/g;f/=720,g=g/1135*e,f=g*i>innerWidth*f?innerWidth*f:g*i,g=f/i,a.el.style.width=c(f)+'px',a.el.style.height=c(g)+'px',b&&b(a)}var b,c,d=Math.abs,e=90==d(window.orientation)?innerWidth:innerHeight,f=[];Vue.directive('suit',{inserted:function d(b,c){a({el:b,size:c.expression.split(',')},function(a){return f.push(a)})}}),Vue.directive('roll',{inserted:function d(a){var b,c=a.parentElement;(/micromessenger/i.test(navigator.userAgent)||/ip(hone|ad)/i.test(navigator.userAgent))&&(a.addEventListener('touchstart',function(a){return b=a.targetTouches[0].clientY}),a.addEventListener('touchmove',function(a){var d=a.touches[0].clientY;(d>b&&c.scrollTop||d<b&&c.scrollTop!=c.scrollHeight-c.offsetHeight)&&a.stopPropagation(),b=d},{passive:!1}))}}),Vue.component('cp-page',{props:['name','roll','once','bottom'],data:function a(){return{a_show:!1,showed:''}},computed:{show:function a(){return this.$root.page==this.name}},watch:{show:function d(a,b){var c=this;b&&this.once!==void 0&&(this.showed=!0),a?(this.$el.style.display=this.display,setTimeout(function(){return c.a_show=!0},100)):(this.a_show=!1,setTimeout(function(){return c.$el.style.display='none'},400))}},render:function b(a){return a('div',{class:['cp-page',{show:this.a_show,showed:this.showed,"cp-page-bottom":void 0!==this.bottom},'page_'+this.name]},this.roll===void 0?this.$slots.default:[a('cp-roll',{},this.$slots.default),this.$slots.fixed])},mounted:function a(){this.bottom!==void 0&&(this.$el.style.height=innerHeight+'px'),this.display=getComputedStyle(this.$el).display,this.$el.style.display='none'}}),Vue.component('cp-wrap',{props:['name'],computed:{a_show:function a(){return this.$root[this.name]}},watch:{a_show:function c(a){var b=this;a?this.$el.style.zIndex=999:setTimeout(function(){return b.$el.style.zIndex=-1},400)}},render:function b(a){return a('div',{class:['cp-wrap',{"cp-wrap-show":this.a_show},'cp-wrap-'+this.name]},this.$slots.default)}}),Vue.component('cp-pop',{props:['name','once','full','bottom','suit','alive','child_class'],data:function a(){return{showed:''}},computed:{show:function a(){return this.alive!==void 0||this.$root[this.$parent.name]==this.name}},render:function d(a){var b=this.suit===void 0?[]:[{name:'suit',expression:this.suit}],c=this.name?this.$parent.name+'_'+this.name+'_box':this.$parent.name+'_box';return a('div',{class:['cp-pop-box',c,{show:this.show,showed:this.showed}]},[a('div',{directives:b,class:['cp-pop',this.child_class,{"cp-pop-bottom":void 0!==this.bottom,"cp-pop-full":void 0!==this.full||void 0!==this.bottom},this.alive===void 0?this.$parent.name+'_'+this.name:'pop_'+this.$parent.name]},this.$slots.default)])},created:function c(){var a=this;if(this.once!==void 0)var b=this.$watch('show',function(c,d){d&&(b(),a.showed=!0)})},mounted:function a(){(this.full!==void 0||this.bottom!==void 0)&&(this.$el.children[0].style.height=innerHeight+'px')}}),Vue.component('cp-select',{props:{name:String,list:Array,lazy:null,value:null,disabled:null,placeholder:{type:String,default:'\u9009\u62E9'}},model:{prop:'value',event:'change'},data:function a(){return{show:'',text:''}},watch:{value:function d(a,b){if(''!==a){var c=this.a_list.filter(function(b){return b.val===a});c.length?this.text=c[0].key:this.$emit('change',b)}}},computed:{a_class:function b(){var a=['cp-select-box',{"cp-select-delta":!this.disabled&&this.a_list.length}];return this.name&&a.push('select_'+this.name),a},a_list:function d(){var a=this,b=void 0===this.lazy?this.list.map(function(a){return a.key?a:{key:a,val:a}}):this.list,c=b.filter(function(b){return b.val===a.value})[0];return this.text=c?c.key:'',b}},methods:{Show:function b(){var a=this;window.__cp_select_group.forEach(function(b){b.uuid==a.uuid&&!a.disabled&&a.a_list.length?a.show=!a.show:b.uuid!=a.uuid&&(b.show=!1)})},Select:function b(a){a.target.dataset.index&&(a=this.a_list[a.target.dataset.index],this.value=a.val,this.$emit('change',a.val))}},created:function a(){this.uuid=window.__cp_select_group?window.__cp_select_group.length+1:1,window.__cp_select_group?window.__cp_select_group.push(this):(window.__cp_select_group=[this],document.addEventListener('click',function(){return window.__cp_select_group.forEach(function(a){return a.show=!1})}))},template:'\n    <div :class=a_class @click.stop=Show>\n      <span class=\'cp-select-val\'>{{text || placeholder}}</span>\n      <ul class=\'cp-select-group\' v-show=show @click=Select>\n        <li class=\'cp-select-item\' v-show=text>{{text}}</li>\n        <li class=\'cp-select-item\' v-for=\'(n,i) in a_list\' v-show=\'value !== n.val\' :data-index=i>{{n.key}}</li>\n      </ul>\n    </div>'}),Vue.component('cp-phone-code',{props:['name','disabled','tw','simple','value','placeholder'],model:{props:'value',event:'change'},data:function a(){return{list:''}},watch:{value:function b(a){this.$emit('change',a)}},created:function b(){var a=[{key:this.simple===void 0?'\u6FB3\u9580':'\u6FB3\u95E8',val:'853'},{key:'\u9999\u6E2F',val:'852'},{key:this.simple===void 0?'\u53F0\u7063':'\u53F0\u6E7E',val:'886'},{key:this.simple===void 0?'\u5927\u9678':'\u5927\u9646',val:'86'},{key:'\u5176\u4ED6',val:'00'}];this.tw===void 0&&a.splice(2,1),this.list=a,this.placeholder=this.placeholder||(this.simple===void 0?'\u9078\u64C7':'\u9009\u62E9')},template:'<div is=cp-select :name=name :list=list :disabled=disabled :placeholder=placeholder lazy v-model=value></div>'}),Vue.component('cp-wait',{props:['msg'],render:function b(a){return a('div',{class:'p_middle cp-wait'},[a('div',{class:'p_middle cp-wait-msg',domProps:{innerHTML:this.msg}})])}}),Vue.component('cp-roll',{props:['html'],render:function c(a){var b=this.html===void 0?{}:{innerHTML:this.html};return a('div',{class:'cp-roll'},[a('div',{domProps:b,directives:[{name:'roll'}]},this.$slots.default)])}}),Vue.component('cp-input',{props:['value','textarea','type'],model:{props:'value',event:'input'},beforeCreate:function a(){this.blur_bak=this.$listeners.blur,this.focus_bak=this.$listeners.focus},render:function f(a){var d=this;this.$listeners.input=function(a){return d.$emit('input',a.target.value)},this.$listeners.focus=function(a){b=a.target,clearTimeout(c),d.focus_bak&&d.focus_bak(a)},this.$listeners.blur=function(a){b=void 0,c=setTimeout(function(){return document.getElementsByTagName('body')[0].scrollTop=0},300),d.blur_bak&&d.blur_bak(a)};var e={value:this.value};return void 0===this.textarea&&(e.type=this.type||'text'),a(void 0===this.textarea?'input':'textarea',{domProps:e,on:this.$listeners})}});var g;Vue.prototype.$wait=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'\u6B63\u5728\u52A0\u8F7D';g&&g['cp-waiting']?g.msg=a:g?(g.msg=a,g['cp-waiting']=!0):g=new Vue({el:document.createElement('div'),data:{msg:a,"cp-waiting":''},render:function b(a){return a('cp-wrap',{props:{name:'cp-waiting'},nativeOn:{touchmove:function b(a){return a.preventDefault()}}},[a('cp-pop',{props:{alive:!0}},[a('cp-wait',{props:{msg:this.msg}})])])},mounted:function b(){var a=this;document.body.appendChild(this.$el),setTimeout(function(){return a['cp-waiting']=!0})}})},Vue.prototype.$wait.over=function(){g&&g['cp-waiting']&&(g['cp-waiting']=!1)};var h;window.App=Vue.extend({mixins:[{el:'#app',data:function a(){return{bgm:0,load:0,page:'',alert:'',ralert:''}},methods:{AlertClose:function a(){this.alert=''},RalertClose:function a(){this.ralert=''},InitBgm:function c(a){var b=this;this.bgm_music=new Audio,this.bgm_music.loop=!0,this.bgm_music.preload=!0,this.bgm_music.autoplay=!0,this.bgm_music.addEventListener('play',function(){return b.bgm=1}),this.bgm_music.addEventListener('pause',function(){return b.bgm=0}),this.bgm_music.src=a,window.wx&&wx.ready(function(){return b.bgm_music.play()})},Bgm:function b(a){1==a&&(!this.bgm_music.paused||h)||(h=!0,this.bgm_music[this.bgm_music.paused?'play':'pause']())}},beforeCreate:function b(){var a=this;this._query={},location.search.slice(1).split('&').forEach(function(b){if(b){var c=b.split('='),d=_slicedToArray(c,2),e=d[0],f=d[1];a._query[e]=f}}),this._isIOS=/ip(hone|ad)/i.test(navigator.userAgent),this._isWeChat=/micromessenger/i.test(navigator.userAgent)},mounted:function i(){var c=this;window.app=this,this.$el.style.height=innerHeight+'px';var g=window.orientation;if(this._orientation_cancel)window.addEventListener('resize',function(){90==d(window.orientation)?b&&b.blur():.1>d(innerHeight-e/e)&&setTimeout(function(){document.getElementsByTagName('html')[0].style.fontSize=innerWidth/7.2+'px',e=innerHeight,c.$el.style.height=innerHeight+'px',f.forEach(function(b){return a(b)})},100)});else{var h=function(){c._orientation=new Vue({el:document.createElement('div'),data:{msg:c._orientation_msg||'\u8BF7\u4F7F\u7528\u7AD6\u5C4F\u6A21\u5F0F\u6D4F\u89C8',"cp-orientation":''},render:function b(a){return a('cp-wrap',{props:{name:'cp-orientation'},nativeOn:{touchmove:function b(a){return a.preventDefault()}}},[a('cp-pop',{props:{alive:!0}},[a('div',{class:'cp-orientation-msg',domProps:{innerHTML:this.msg}})])])},mounted:function b(){var a=this;document.body.appendChild(this.$el),setTimeout(function(){a['cp-orientation']=!0,app.$el.style.opacity=0})}})};90==d(window.orientation)&&h(),window.addEventListener('resize',function(){90==d(window.orientation)?(b&&b.blur(),c._orientation?(c._orientation['cp-orientation']=!0,app.$el.style.opacity=0):h()):.1>d(innerHeight-e/e)?(e=innerHeight,c.$el.style.height=innerHeight+'px',f.forEach(function(b){return a(b)})):window.orientation!=g&&setTimeout(function(){document.getElementsByTagName('html')[0].style.fontSize=innerWidth/7.2+'px',c._orientation['cp-orientation']=!1,app.$el.style.opacity=1,c.$el.style.height=innerHeight+'px',f.forEach(function(b){return a(b)})},100),g=window.orientation})}this.$el.oncontextmenu=function(a){return'input'==a.target.tagName.toLowerCase()||'textarea'==a.target.tagName.toLowerCase()},(this._isWeChat||this._isIOS)&&this.$el.addEventListener('touchmove',function(a){'input'!=a.target.tagName.toLowerCase()&&'textarea'!=a.target.tagName.toLowerCase()&&a.preventDefault()},{passive:!1})}}]})})();