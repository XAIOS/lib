function Post(j,i,f,e){var g=window.__post_pre||"/Index/";var h=window.__post_msg||"您的网络开了个小差";if(window.fetch){Post=function(c,b,l,k){b=b||"";var a="";for(var d in b){a+=encodeURIComponent(d)+"="+encodeURIComponent(b[d])+"&"}fetch(g+c,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a,credentials:"include"}).then(function(m){if(m.ok){m.json().then(function(n){if(n.code==1){l&&l(n.data,n)}else{window.__post_error?__post_error(n):alert(h);k&&k()}})}else{window.__post_error?__post_error():alert(h);k&&k()}},function(){window.__post_error?__post_error():alert(h);k&&k()})}}else{Post=function(d,c,n,m){c=c||"";var b="";for(var l in c){b+=encodeURIComponent(l)+"="+encodeURIComponent(c[l])+"&"}var a=new XMLHttpRequest;a.onload=function(){var k=JSON.parse(a.responseText);if(a.status==200){if(k.code==1){n&&n(k.data,k)}else{window.__post_error?__post_error(k):alert(h);m&&m()}}else{window.__post_error?__post_error():alert(h);m&&m()}};a.onerror=function(){window.__post_error?__post_error():alert(h);m&&m()};a.open("POST",g+d);a.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a.send(b)}}Post(j,i,f,e)};
